{% if paginator.pageCount > 1 %}
    {% set paginated_route = app.request.attributes.get('_route') %}
    {% set paginated_params = app.request.attributes.get('_route_params')|merge(app.request.query.all) %}
    <ul>
        {% for i in 1..paginator.pageCount %}
            <li>
                <a href="{{ path(paginated_route, paginated_params|merge({'page': i})) }}">{{ i }}</a>
            </li>
        {% endfor %}
    </ul>
{% endif %}